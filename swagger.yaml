openapi: 3.0.0
info:
  title: Library Management API (Mock)
  version: 1.4.1
servers:
  - url: https://api.testapi.io/api/yourname/library

paths:
  /login:
    post:
      summary: User login to get token (mock)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                Email:
                  type: string
                Password:
                  type: string
            example:
              Email: ali@example.com
              Password: password123
      responses:
        '200':
          description: Token generated (mock)
          content:
            application/json:
              example:
                token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.mocktoken123"
        '401':
          description: Invalid credentials

  /users:
    get:
      summary: Get all users
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of users
          content:
            application/json:
              example:
                - UserID: 1
                  Name: "Ali Rezaei"
                  Email: "ali@example.com"
                  MembershipDate: "2024-01-15"
                - UserID: 2
                  Name: "Sara Ahmadi"
                  Email: "sara@example.com"
                  MembershipDate: "2023-06-10"
                - UserID: 3
                  Name: "Reza Mohammadi"
                  Email: "reza@example.com"
                  MembershipDate: "2022-11-05"
                - UserID: 4
                  Name: "Maryam Hosseini"
                  Email: "maryam@example.com"
                  MembershipDate: "2023-02-20"
                - UserID: 5
                  Name: "Hossein Karimi"
                  Email: "hossein@example.com"
                  MembershipDate: "2024-03-01"
                - UserID: 6
                  Name: "Laleh Taheri"
                  Email: "laleh@example.com"
                  MembershipDate: "2023-08-19"
                - UserID: 7
                  Name: "Mehdi Ebrahimi"
                  Email: "mehdi@example.com"
                  MembershipDate: "2022-12-12"
                - UserID: 8
                  Name: "Neda Safari"
                  Email: "neda@example.com"
                  MembershipDate: "2023-05-25"
                - UserID: 9
                  Name: "Farhad Pirooz"
                  Email: "farhad@example.com"
                  MembershipDate: "2024-04-08"
                - UserID: 10
                  Name: "Mahsa Jafari"
                  Email: "mahsa@example.com"
                  MembershipDate: "2023-09-17"
    post:
      summary: Create new user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                Name:
                  type: string
                Email:
                  type: string
            example:
              Name: "New User"
              Email: "newuser@example.com"
      responses:
        '201':
          description: User created

  /users/{userId}:
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get a single user by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: A single user
          content:
            application/json:
              example:
                UserID: 1
                Name: "Ali Rezaei"
                Email: "ali@example.com"
                MembershipDate: "2024-01-15"
        '404':
          description: User not found
    put:
      summary: Update a user by ID
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                Name:
                  type: string
                Email:
                  type: string
            example:
              Name: "Sara Ahmadi Updated"
              Email: "sara_updated@example.com"
      responses:
        '200':
          description: User updated
    delete:
      summary: Delete a user by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User deleted
        '404':
          description: User not found

  /books:
    get:
      summary: Get all books
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of books
          content:
            application/json:
              example:
                - BookID: 1
                  Title: "The Alchemist"
                  Author: "Paulo Coelho"
                  Category: "Novel"
                  Available: true
                - BookID: 2
                  Title: "Atomic Habits"
                  Author: "James Clear"
                  Category: "Self-help"
                  Available: false
                - BookID: 3
                  Title: "1984"
                  Author: "George Orwell"
                  Category: "Dystopian"
                  Available: true
                - BookID: 4
                  Title: "Brave New World"
                  Author: "Aldous Huxley"
                  Category: "Dystopian"
                  Available: true
                - BookID: 5
                  Title: "Pride and Prejudice"
                  Author: "Jane Austen"
                  Category: "Novel"
                  Available: false
                - BookID: 6
                  Title: "The Great Gatsby"
                  Author: "F. Scott Fitzgerald"
                  Category: "Novel"
                  Available: true
                - BookID: 7
                  Title: "Sapiens"
                  Author: "Yuval Noah Harari"
                  Category: "History"
                  Available: true
                - BookID: 8
                  Title: "The Catcher in the Rye"
                  Author: "J.D. Salinger"
                  Category: "Novel"
                  Available: true
                - BookID: 9
                  Title: "To Kill a Mockingbird"
                  Author: "Harper Lee"
                  Category: "Novel"
                  Available: false
                - BookID: 10
                  Title: "The Subtle Art of Not Giving a F*ck"
                  Author: "Mark Manson"
                  Category: "Self-help"
                  Available: true
    post:
      summary: Add new book
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                Title:
                  type: string
                Author:
                  type: string
                Category:
                  type: string
                Available:
                  type: boolean
            example:
              Title: "New Book"
              Author: "New Author"
              Category: "Novel"
              Available: true
      responses:
        '201':
          description: Book added

  /books/{bookId}:
    parameters:
      - name: bookId
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get a single book by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: A single book
          content:
            application/json:
              example:
                BookID: 1
                Title: "The Alchemist"
                Author: "Paulo Coelho"
                Category: "Novel"
                Available: true
        '404':
          description: Book not found
    put:
      summary: Update a book by ID
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                Title:
                  type: string
                Author:
                  type: string
                Category:
                  type: string
                Available:
                  type: boolean
            example:
              Title: "Pride and Prejudice (Updated)"
              Author: "Jane Austen"
              Category: "Classic"
              Available: true
      responses:
        '200':
          description: Book updated
    delete:
      summary: Delete a book by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Book deleted
        '404':
          description: Book not found

  /borrows:
    get:
      summary: Get all borrow records
      security:
        - bearerAuth: []
      responses:
        '200':
          description: List of borrows
          content:
            application/json:
              example:
                - BorrowID: 1
                  BookID: 2
                  UserID: 1
                  BorrowDate: "2025-10-01"
                  ReturnDate: null
                  Status: "Borrowed"
                - BorrowID: 2
                  BookID: 5
                  UserID: 2
                  BorrowDate: "2025-09-15"
                  ReturnDate: "2025-10-05"
                  Status: "Returned"
                - BorrowID: 3
                  BookID: 9
                  UserID: 3
                  BorrowDate: "2025-09-20"
                  ReturnDate: null
                  Status: "Borrowed"
                - BorrowID: 4
                  BookID: 1
                  UserID: 4
                  BorrowDate: "2025-10-02"
                  ReturnDate: null
                  Status: "Borrowed"
                - BorrowID: 5
                  BookID: 3
                  UserID: 5
                  BorrowDate: "2025-09-25"
                  ReturnDate: "2025-10-10"
                  Status: "Returned"
                - BorrowID: 6
                  BookID: 7
                  UserID: 6
                  BorrowDate: "2025-10-03"
                  ReturnDate: null
                  Status: "Borrowed"
                - BorrowID: 7
                  BookID: 4
                  UserID: 7
                  BorrowDate: "2025-09-28"
                  ReturnDate: "2025-10-12"
                  Status: "Returned"
                - BorrowID: 8
                  BookID: 8
                  UserID: 8
                  BorrowDate: "2025-10-04"
                  ReturnDate: null
                  Status: "Borrowed"
                - BorrowID: 9
                  BookID: 6
                  UserID: 9
                  BorrowDate: "2025-09-30"
                  ReturnDate: "2025-10-15"
                  Status: "Returned"
                - BorrowID: 10
                  BookID: 10
                  UserID: 10
                  BorrowDate: "2025-10-05"
                  ReturnDate: null
                  Status: "Borrowed"
    post:
      summary: Borrow a book
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                BookID:
                  type: integer
                UserID:
                  type: integer
                BorrowDate:
                  type: string
                  format: date
            example:
              BookID: 1
              UserID: 3
              BorrowDate: "2025-11-01"
      responses:
        '201':
          description: Borrow record created

  /borrows/{borrowId}:
    parameters:
      - name: borrowId
        in: path
        required: true
        schema:
          type: integer
    get:
      summary: Get a single borrow record by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: A single borrow record
          content:
            application/json:
              example:
                BorrowID: 1
                BookID: 2
                UserID: 1
                BorrowDate: "2025-10-01"
                ReturnDate: null
                Status: "Borrowed"
        '404':
          description: Borrow record not found
    put:
      summary: Update borrow record (e.g., return book) by ID
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ReturnDate:
                  type: string
                  format: date
                Status:
                  type: string
            example:
              ReturnDate: "2025-11-10"
              Status: "Returned"
      responses:
        '200':
          description: Borrow record updated
    delete:
      summary: Delete a borrow record by ID
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Borrow record deleted
        '404':
          description: Borrow record not found

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
